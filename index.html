<!DOCTYPE html>
<html>
  <head>
    <title>Slide Puzzle Game</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="img/logo.png" />
    <script src="program.js"></script>
  </head>
  <body>
    <!-- Instruction Modal -->
    <div id="instruction-modal" class="modal">
      <div class="modal-content">
        <h3>How to Play</h3>
        <p>
          ‚ö†Ô∏è Always press the <strong>Shuffle</strong> button before starting to
          play the game!
        </p>
        <button id="modal-close">Got it!</button>
      </div>
    </div>

    <header class="header">
      <h1>Slide Puzzle Game</h1>
      <div id="previous-button">
        <img
          src="img/previous.ico"
          alt="previous"
          style="width: 25px; height: 25px"
        />
      </div>
      <div class="player-icon" id="music-toggle">
        <img
          src="img/player.ico"
          alt="player"
          style="width: 30px; height: 30px"
        />
      </div>
      <div id="next-button">
        <img
          src="img/fast-forward.ico"
          alt="next"
          style="width: 25px; height: 25px"
        />
      </div>
      <audio id="background-music" loop>
        <source
          src="audio/Aisake, Dosi - Cruising [NCS Release].mp3"
          type="audio/mpeg"
        />
        <source
          src="audio/Colorful-Flowers(chosic.com).mp3"
          type="audio/mpeg"
        />
        <source src="audio/Heartbreaking(chosic.com).mp3" type="audio/mpeg" />
        <source
          src="audio/melody-of-nature-main(chosic.com).mp3"
          type="audio/mpeg"
        />
        <source
          src="audio/Warm-Memories-Emotional-Inspiring-Piano(chosic.com).mp3"
          type="audio/mpeg"
        />
        <source src="audio/Wildflowers-chosic.com_.mp3" type="audio/mpeg" />
      </audio>
    </header>

    <div class="game-wrapper">
      <div id="score-sidebar">
        <div id="scores-section">
          <h2>üèÜ Top 5 Scores</h2>
          <ol id="score-list"></ol>
        </div>

        <div id="personal-stats">
          <h2>üèÜ Personal Stats</h2>
          <p>
            Games Played:
            <span id="total-games">0</span>
          </p>
          <p>
            Total Moves:
            <span id="total-moves">0</span>
          </p>
          <p>
            Total Time:
            <span id="total-time">00:00</span>
          </p>
        </div>
      </div>

      <div id="game-container">
        <div id="dango-animation"></div>
        <div id="image-attribution">
          <a
            href="https://www.freepik.com/free-photos-vectors/anime-landscape"
            target="_blank"
          >
            Check out the original images <u style="color: #633c8a">here</u>
          </a>
        </div>
        <div id="game-board">
          <div class="tile" data-row="0" data-col="0" data-value="1"></div>
          <div class="tile" data-row="0" data-col="1" data-value="2"></div>
          <div class="tile" data-row="0" data-col="2" data-value="3"></div>
          <div class="tile" data-row="0" data-col="3" data-value="4"></div>
          <div class="tile" data-row="1" data-col="0" data-value="5"></div>
          <div class="tile" data-row="1" data-col="1" data-value="6"></div>
          <div class="tile" data-row="1" data-col="2" data-value="7"></div>
          <div class="tile" data-row="1" data-col="3" data-value="8"></div>
          <div class="tile" data-row="2" data-col="0" data-value="9"></div>
          <div class="tile" data-row="2" data-col="1" data-value="10"></div>
          <div class="tile" data-row="2" data-col="2" data-value="11"></div>
          <div class="tile" data-row="2" data-col="3" data-value="12"></div>
          <div class="tile" data-row="3" data-col="0" data-value="13"></div>
          <div class="tile" data-row="3" data-col="1" data-value="14"></div>
          <div class="tile" data-row="3" data-col="2" data-value="15"></div>
        </div>

        <div id="pause-button-container">
          <button id="pause-button">Pause</button>
        </div>

        <div id="game-controls-container">
          <div id="game-controls">
            <button id="shuffle-button">Shuffle</button>
            <button id="reset-button">Reset</button>
            <p id="change-puzzle-image">Select Puzzle Image</p>
            <select id="background-select" placeholder="Change Background">
              <option value="default">Default</option>
              <option value="sakura-forest">Sakura Forest</option>
              <option value="torii-gate">Torii Gate</option>
              <option value="city-at-night">City at Night</option>
              <option value="balcony-sunset">Balcony Sunset</option>
              <option value="cherry-tree">Cherry Tree</option>
              <option value="city-at-sunset">City at Sunset</option>
              <option value="beautiful-landscape">Beautiful Landscape</option>
              <option value="temple">Temple</option>
            </select>
          </div>
          <div id="game-status">
            <p>Moves: <span id="moves">0</span></p>
            <p>Time: <span id="timer">00:00</span></p>
          </div>
        </div>

        <!-- Move instructions outside the game-controls-container -->
        <div id="game-instructions">
          <button id="close-instructions">x</button>
          <h3>Instructions</h3>
          <p>Use <u>arrow keys</u> or <u>click tiles</u> to move them.</p>
        </div>
      </div>
    </div>

    <!-- Add the loader overlay just before the closing body tag -->
    <div id="loader-overlay">
      <div class="loader"></div>
    </div>

    <footer class="footer">
      <p class="music-attribution">
        Music: "Cruising" by Aisake, Dosi [NCS Release] -
        <a href="https://ncs.io/cruising" target="_blank">NoCopyrightSounds</a>
      </p>
    </footer>

    <!-- Feedback Form Popup -->
    <div id="feedback-modal" class="feedback-modal">
      <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h3>Share Your Feedback</h3>
        <form id="feedback-form">
          <div class="form-group">
            <label for="user-name">Name</label>
            <input type="text" id="user-name" name="user-name" required />
          </div>
          <div class="form-group">
            <label for="user-email">Email</label>
            <input type="email" id="user-email" name="user-email" required />
          </div>
          <div class="form-group">
            <label for="feedback-type">Feedback Type</label>
            <select id="feedback-type" name="feedback-type" required>
              <option value="">Select type</option>
              <option value="suggestion">Suggestion</option>
              <option value="bug">Bug Report</option>
              <option value="review">Game Review</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label for="feedback-text">Your Feedback</label>
            <textarea
              id="feedback-text"
              name="feedback-text"
              rows="5"
              required
            ></textarea>
          </div>
          <div class="form-group">
            <label for="rating">Rate Your Experience (1-5)</label>
            <div class="rating-container">
              <input type="radio" id="star5" name="rating" value="5" /><label
                for="star5"
                >‚òÖ</label
              >
              <input type="radio" id="star4" name="rating" value="4" /><label
                for="star4"
                >‚òÖ</label
              >
              <input type="radio" id="star3" name="rating" value="3" /><label
                for="star3"
                >‚òÖ</label
              >
              <input type="radio" id="star2" name="rating" value="2" /><label
                for="star2"
                >‚òÖ</label
              >
              <input type="radio" id="star1" name="rating" value="1" /><label
                for="star1"
                >‚òÖ</label
              >
            </div>
          </div>
          <button type="submit" id="submit-feedback">Submit Feedback</button>
        </form>

        <!-- Thank you message (hidden by default) -->
        <div class="thank-you-message">
          <h3>Thank You!</h3>
          <p>Your feedback has been submitted successfully.</p>
          <button id="close-thank-you">Close</button>
        </div>
      </div>
    </div>

    <!-- Feedback Button -->
    <button id="feedback-button">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path
          d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
        ></path>
      </svg>
      Feedback
    </button>
  </body>
</html>
